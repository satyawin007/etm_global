<?php 
	/*
	$form_info = array();
	$form_info["name"] = "addstate";
	$form_info["action"] = "addstate";
	$form_info["method"] = "post";
	$form_info["class"] = "form-horizontal";
	$form_info["back_url"] = "states";
	$form_fields = array();
	$form_field = array("name"=>"fullname", "content"=>"full name", "readonly"=>"",  "required"=>"required","type"=>"text", "class"=>"form-control");
	$form_fields[] = $form_field;
	$form_field = array("name"=>"lastname", "content"=>"last name", "readonly"=>"", "required"=>"","type"=>"email", "class"=>"form-control");
	$form_fields[] = $form_field;
	$form_field = array("name"=>"age", "content"=>"age", "readonly"=>"", "required"=>"required","type"=>"password", "class"=>"form-control");
	$form_fields[] = $form_field;
	$form_field = array("name"=>"id", "content"=>"id", "readonly"=>"", "required"=>"", "type"=>"hidden", "value"=>"1", "class"=>"form-control");
	$form_fields[] = $form_field;
	$form_field = array("name"=>"date", "content"=>"date", "readonly"=>"", "required"=>"required", 	"type"=>"text", "class"=>"form-control date-picker");
	$form_fields[] = $form_field;
	$form_field = array("name"=>"State", "readonly"=>"", "content"=>"state", "class"=>"form-control", "required"=>"required", "type"=>"select",
			"options"=>array("1"=>"test1","2"=>"test2", "3"=>"test3"),
			"action"=>array("type"=>"onChange", "script"=>"paginate(1)"));
	$form_fields[] = $form_field;
	$form_field = array("name"=>"gender", "readonly"=>"","content"=>"gender", "required"=>"required","type"=>"radio", "class"=>"form-control", "options"=>array("male"=>"male", "female"=>"female"));
	$form_fields[] = $form_field;
	$form_field = array("name"=>"address", "readonly"=>"", "content"=>"address", "required"=>"required", "type"=>"textarea", "class"=>"form-control");
	$form_fields[] = $form_field;
	$form_info["form_fields"] = $form_fields;
	return View::make("masters.layouts.addform",array("form_info"=>$form_info));
	*/
?>

	<?php $__env->startSection('inline_css'); ?>
		<style>
			label {
			    font-weight: normal;
			    font-size: 13px;
			}
		</style
	<?php $__env->stopSection(); ?>
	
		<div class="col-xs-offset-1 col-xs-10" style="margin-top: 1%; margin-bottom: 1%">
			<div class="col-xs-5">
				<div class="form-group">
					<?php 
						$branches =  \OfficeBranch::All();
						$branches_arr = array();
						foreach ($branches as $branch){
							$branches_arr[$branch->id] = $branch->name;
						}
					?>
					<?php $form_field = array("name"=>"branch", "content"=>"branch", "readonly"=>"",  "required"=>"required", "type"=>"select", "class"=>"form-control chosen-select", "options"=>$branches_arr); ?>
					<label class="col-xs-5 control-label no-padding-right" for="form-field-1"> <?php echo strtoupper($form_field['content']); if($form_field['required']=="required") echo '<span style="color:red;">*</span>'; ?> </label>
					<div class="col-xs-7">
						<select class="<?php echo $form_field['class']; ?>"  <?php echo $form_field['required']; ?>  name="<?php echo $form_field['name']; ?>" id="<?php echo $form_field['name']; ?>" <?php if(isset($form_field['action'])) { $action = $form_field['action'];  echo $action['type']."=".$action['script']; }?> <?php if(isset($form_field['multiple'])) { echo " multiple "; }?>>
							<option value="">-- <?php echo $form_field['name']; ?> --</option>
							<?php 
								foreach($form_field["options"] as $key => $value){
									echo "<option value='$key'>$value</option>";
								}
							?>
						</select>
					</div>			
				</div>	
			</div>
			<div class="col-xs-5">
				<div class="form-group">
					<label style="margin-left: 40px;" class="col-xs-4 control-label no-padding-right" for="form-field-1"> <?php echo strtoupper("date");  echo '<span style="color:red;">*</span>'; ?> </label>
					<div class="col-xs-6">
						<input type="text" id="date" required="required" name="date" class="form-control date-picker" />
					</div>			
				</div>
			</div>			
			<div class="col-xs-1" >
				<div class="form-group">
					<label class="col-xs-0 control-label no-padding-right" for="form-field-1"> </label>
					<div class="col-xs-5" id="verify">
						<input type="button" class="btn btn-sm btn-primary" value="VERIFY" onclick="verifyDate()"/>
					</div>			
				</div>
			</div>
			<div class="col-xs-10" id="trantypebody" style="margin-top: 15px; margin-bottom: -10px">
				<div class="form-group">
					<label class="col-xs-3 control-label no-padding-right" for="form-field-1" style="margin-top: 10px"> TRANSACTION TYPE :  </label>
					<div class="col-xs-9">
						<div class="control-group row">
							<div class="radio inline">
								<label>
									<input name="form-field-radio" name="trantype"  type="radio" value="income" class="ace" onclick="showTranType(this.value)">
									<span class="lbl"> &nbsp;INCOME &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
								</label>
							</div>

							<div class="radio inline">
								<label>
									<input name="form-field-radio" name="trantype"  type="radio" value="expense" class="ace" onclick="showTranType(this.value)">
									<span class="lbl"> &nbsp;EXPENSE &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
								</label>
							</div>

							<div class="radio inline">
								<label>
									<input name="form-field-radio" name="trantype" type="radio" value="fuel" class="ace" onclick="showTranType(this.value)">
									<span class="lbl"> &nbsp;FUEL &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
								</label>
							</div>
						</div>
					</div>			
				</div>	
			</div>
			
			<div class="col-xs-6" id="incomebody" style="margin-top: 15px; margin-bottom: -10px">
				<div class="form-group">
					<?php 
						$parentId = \LookupTypeValues::where("name", "=", "INCOME")->get();
						$incomes = array();
						if(count($parentId)>0){
							$parentId = $parentId[0];
							$parentId = $parentId->id;
							$incomes =  \LookupTypeValues::where("parentId","=",$parentId)->get();
							
						}
						$incomes_arr = array();
						foreach ($incomes as $income){
							$incomes_arr[$income->id] = $income->name;
						}
					?>
					<?php $form_field = array("name"=>"income", "content"=>"Income TYpe", "readonly"=>"",  "required"=>"required", "type"=>"select", "class"=>"form-control chosen-select", "options"=>$incomes_arr); ?>
					<label class="col-xs-5 control-label no-padding-right" for="form-field-1"> <?php echo strtoupper($form_field['content']); if($form_field['required']=="required") echo '<span style="color:red;">*</span>'; ?> </label>
					<div class="col-xs-7">
						<select class="<?php echo $form_field['class']; ?>"  onChange="showForm(this.value)"  <?php echo $form_field['required']; ?>  name="<?php echo $form_field['name']; ?>" id="<?php echo $form_field['name']; ?>" <?php if(isset($form_field['action'])) { $action = $form_field['action'];  echo $action['type']."=".$action['script']; }?> <?php if(isset($form_field['multiple'])) { echo " multiple "; }?>>
							<option value="">-- <?php echo $form_field['name']; ?> --</option>
							<?php 
								foreach($form_field["options"] as $key => $value){
									echo "<option value='$key'>$value</option>";
								}
							?>
						</select>
					</div>			
				</div>	
			</div>
			<div class="col-xs-6" id="expensebody" style="margin-top: 15px; margin-bottom: -10px">
				<div class="form-group" id="expensetypes">
					<?php 
						$parentId = \LookupTypeValues::where("name", "=", "EXPENSE")->get();
						$expenses = array();
						if(count($parentId)>0){
							$parentId = $parentId[0];
							$parentId = $parentId->id;
							$expenses =  \LookupTypeValues::where("parentId","=",$parentId)->get();
							
						}
						$expenses_arr = array();
						foreach ($expenses as $expense){
							$expenses_arr[$expense->id] = $expense->name;
						}
					?>
					<?php $form_field = array("name"=>"expense", "content"=>"expense TYpe", "readonly"=>"",  "required"=>"required", "type"=>"select", "class"=>"form-control chosen-select", "options"=>$expenses_arr); ?>
					<label class="col-xs-5 control-label no-padding-right" for="form-field-1"> <?php echo strtoupper($form_field['content']); if($form_field['required']=="required") echo '<span style="color:red;">*</span>'; ?> </label>
					<div class="col-xs-7">
						<select class="<?php echo $form_field['class']; ?>"  onChange="showForm(this.value)"  <?php echo $form_field['required']; ?>  name="<?php echo $form_field['name']; ?>" id="<?php echo $form_field['name']; ?>" <?php if(isset($form_field['action'])) { $action = $form_field['action'];  echo $action['type']."=".$action['script']; }?> <?php if(isset($form_field['multiple'])) { echo " multiple "; }?>>
							<option value="">-- <?php echo $form_field['name']; ?> --</option>
							<?php 
								foreach($form_field["options"] as $key => $value){
									echo "<option value='$key'>$value</option>";
								}
							?>
						</select>
					</div>			
				</div>	
			</div>
		</div>
	
		<div class="col-xs-12" style="margin-top: -1%">
		<div class="">
			<div class="">
				<div >
				<form style="padding-top:0px;" class="<?php echo $form_info['class']; ?>" action="<?php echo $form_info['action']; ?>" method="<?php echo $form_info['method']; ?>" name="<?php echo $form_info['name']; ?>"  id="<?php echo $form_info['name']; ?>">
					<?php $form_fields = $form_info['form_fields'];?>
					<div id="formbody">	
					<?php foreach ($form_fields as $form_field) {?>
						<div class="col-xs-6" style="margin-top: 15px; margin-bottom: -10px">
						<?php if($form_field['type'] === "text" || $form_field['type'] === "email" ||$form_field['type'] === "number" || $form_field['type'] === "password"){ ?>
						<div class="form-group">
							<label class="col-xs-4 control-label no-padding-right" for="form-field-1"> <?php echo strtoupper($form_field['content']); if($form_field['required']=="required") echo '<span style="color:red;">*</span>'; ?> </label>
							<div class="col-xs-7">
								<input <?php echo $form_field['readonly']; ?> type="<?php echo $form_field['type']; ?>" id="<?php echo $form_field['name']; ?>" required="<?php echo $form_field['required']; ?>" name="<?php echo $form_field['name']; ?>" class="<?php echo $form_field['class']; ?>" <?php if(isset($form_field['action'])) { $action = $form_field['action'];  echo $action['type']."=".$action['script']; }?>>
							</div>			
						</div>
						<?php } ?>
						<?php if($form_field['type'] === "hidden"){ ?>
						<div class="form-group">
							<div class="col-xs-7">
								<input type="<?php echo $form_field['type']; ?>" id="<?php echo $form_field['name']; ?>" name="<?php echo $form_field['name']; ?>" value="<?php echo $form_field['value']; ?>" >
							</div>			
						</div>
						<?php } ?>
						<?php if($form_field['type'] === "textarea"){ ?>				
						<div class="form-group">
							<label class="col-xs-4 control-label no-padding-right" for="form-field-1"> <?php echo strtoupper($form_field['content']); if($form_field['required']=="required") echo '<span style="color:red;">*</span>'; ?> </label>
							<div class="col-xs-7">
								<textarea <?php echo $form_field['readonly']; ?> id="<?php echo $form_field['name']; ?>" name="<?php echo $form_field['name']; ?>" class="<?php echo $form_field['class']; ?>"></textarea>
							</div>			
						</div>
						<?php } ?>
						<?php if($form_field['type'] === "radio"){ ?>				
						<div class="form-group">
							<label class="col-xs-4 control-label no-padding-right" for="form-field-1"> <?php echo strtoupper($form_field['content']); if($form_field['required']=="required") echo '<span style="color:red;">*</span>'; ?> </label>
							<div class="col-xs-7">
								<div class="radio">
								<?php 
									foreach($form_field["options"] as $key => $value){
										echo "<label><input type='radio' name=\"".$form_field['name']."\"class='ace' value='$key'> <span class='lbl'>".$value."</span></label>&nbsp;&nbsp;";
									}
								?>
								</div>
							</div>			
						</div>
						<?php } ?>
						<?php if($form_field['type'] === "select"){ ?>
						<div class="form-group">
							<label class="col-xs-4 control-label no-padding-right" for="form-field-1"> <?php echo strtoupper($form_field['content']); if($form_field['required']=="required") echo '<span style="color:red;">*</span>'; ?> </label>
							<div class="col-xs-7">
								<select class="<?php echo $form_field['class']; ?>"  <?php echo $form_field['required']; ?>  name="<?php echo $form_field['name']; ?>" id="<?php echo $form_field['name']; ?>" <?php if(isset($form_field['action'])) { $action = $form_field['action'];  echo $action['type']."=".$action['script']; }?> <?php if(isset($form_field['multiple'])) { echo " multiple "; }?>>
									<option value="">-- <?php echo $form_field['name']; ?> --</option>
									<?php 
										foreach($form_field["options"] as $key => $value){
											if(isset($form_field['value']) && $form_field['value']==$key) { 
												echo "<option selected='selected' value='$key'>$value</option>";
											}
											else{
												echo "<option value='$key'>$value</option>";
											}
										}
									?>
								</select>
							</div>			
						</div>				
						<?php } ?>
						</div>
					<?php } ?>
					</div>
					
					<div id="addfields"></div>
					<div class="clearfix form-actions" >
						<div class="col-md-offset-4 col-md-8" style="margin-top: 2%; margin-bottom: 1%">
							<button id="reset" class="btn primary" type="submit" id="submit">
								<i class="ace-icon fa fa-check bigger-110"></i>
								SUBMIT
							</button>
							<!--  <input type="submit" class="btn btn-info" type="button" value="SUBMIT"> -->
							&nbsp; &nbsp; &nbsp;
							<button id="reset" class="btn" type="reset">
								<i class="ace-icon fa fa-undo bigger-110"></i>
								RESET
							</button>
						</div>
					</div>
				</form>
			</div>
				</div>
			</div>
		</div>
	